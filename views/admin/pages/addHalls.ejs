<%- include ("../../_partial/_header.ejs") %>

    <div style="padding: 8% 5%;">

        <h3 class="display-6">Add a Hall</h3>


        <!-- Pills navs -->
        <ul class="nav nav-pills nav-justified mb-3" id="ex1" role="tablist">

            <li class="nav-item" role="presentation">
                <a class="nav-link active" id="ex3-tab-1" data-mdb-toggle="pill" href="#ex3-pills-1" role="tab"
                    aria-controls="ex3-pills-1" aria-selected="true">View Halls</a>
            </li>
            <li class="nav-item" role="presentation">
                <a class="nav-link" id="ex3-tab-2" data-mdb-toggle="pill" href="#ex3-pills-2" role="tab"
                    aria-controls="ex3-pills-2" aria-selected="false">Manage Halls</a>
            </li>

        </ul>
        <!-- Pills navs -->


        <!-- Pills content -->
        <div class="tab-content" id="ex2-content">

            <!-- View Halls -->
            <div class="tab-pane fade show active" id="ex3-pills-1" role="tabpanel" aria-labelledby="ex3-tab-1">

                <% halls.forEach(function(hall,index) { %>

                    <% if(index % 2 !=1) { %>

                        <br><br>

                        <div class="card">
                            <div style="display: flex;">

                                <div style="width: 50%; padding: 5%;">

                                    <h3 class="display-6">
                                        <%= hall.name %>
                                    </h3>
                                    <p style="text-align: justify;" class="lead">
                                        <%= hall.description %>
                                    </p>

                                    <button type="button" class="btn btn-primary hall-01"
                                        style="background-color: #2a3353;" id=<%=hall._id %>>
                                        Read More
                                        <i class="fas fa-angle-double-right"></i>
                                    </button>

                                </div>

                                <div style="width: 50%; border-radius: 0px 10px 10px 0px; " class="bg-image hover-zoom">
                                    <img src="https://images.unsplash.com/photo-1524824267900-2fa9cbf7a506?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1170&q=80"
                                        alt="hall one" width="100%" height="auto">
                                </div>

                            </div>

                            <div class="content" style="width: 100%; position: relative;" id="display-<%= hall._id %>">

                                <div style="padding: 5%;">

                                    <div style="display: flex;">
                                        <div style="width: 25%; border-radius: 0px; padding: 1%;"
                                            class="bg-image hover-zoom">
                                            <img src="https://images.unsplash.com/photo-1524824267900-2fa9cbf7a506?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1170&q=80"
                                                alt="hall one one" width="100%" height="100%">
                                        </div>
                                        <div style="width: 25%; border-radius: 0px; padding: 1%;"
                                            class="bg-image hover-zoom">
                                            <img src="https://images.unsplash.com/photo-1524824267900-2fa9cbf7a506?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1170&q=80"
                                                alt="hall one one" width="100%" height="100%">
                                        </div>
                                        <div style="width: 25%; border-radius: 0px; padding: 1%;"
                                            class="bg-image hover-zoom">
                                            <img src="https://images.unsplash.com/photo-1524824267900-2fa9cbf7a506?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1170&q=80"
                                                alt="hall one one" width="100%" height="100%">
                                        </div>
                                        <div style="width: 25%; border-radius: 0px; padding: 1%;"
                                            class="bg-image hover-zoom">
                                            <img src="https://images.unsplash.com/photo-1524824267900-2fa9cbf7a506?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1170&q=80"
                                                alt="hall one one" width="100%" height="100%">
                                        </div>

                                    </div>

                                    <div style="width: 100%; text-align: justify; padding: 1%; display: flex; ">

                                        <div style="width: 50%; padding: 1%;">
                                            <table class="table table-striped">
                                                <tbody>
                                                    <tr>
                                                        <th scope="row">Hall Type: </th>
                                                        <td>
                                                            <%= hall.hallType %>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <th scope="row">Seating Plan: </th>
                                                        <td>
                                                            <%= hall.seatingPlan %>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <th scope="row">Capacity: </th>
                                                        <td>
                                                            <%= hall.capacity %> Guests
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <th scope="row">Available Dates: </th>
                                                        <td>xx.xx.xxxx</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>

                                        <div style="width: 50%; padding: 1%;">
                                            <table class="table table-striped">
                                                <tbody>
                                                    <tr>
                                                        <th scope="row">Lighting System: </th>
                                                        <td>
                                                            <%= hall.lightingSystem %>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <th scope="row">Sound System: </th>
                                                        <td>
                                                            <%= hall.soundSystem %>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <th scope="row">Buffet: </th>
                                                        <td>
                                                            <%= hall.buffet %>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <th scope="row">Price Range: </th>
                                                        <td>
                                                            <%= hall.priceFrom %> to <%= hall.priceTo %> LKR
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>

                                    </div>

                                </div>

                            </div>

                        </div>

                        <% } else { %>

                            <br><br>

                            <div class="card">
                                <div style="display: flex;">

                                    <div style="width: 50%; border-radius: 10px 0px 0px 10px;"
                                        class="bg-image hover-zoom">
                                        <img src="https://images.unsplash.com/photo-1519167758481-83f550bb49b3?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1198&q=80"
                                            alt="hall two" width="100%" height="auto">
                                    </div>

                                    <div style="width: 50%; padding: 5%;">
                                        <h3 class="display-6">
                                            <%= hall.name %>
                                        </h3>
                                        <p style="text-align: justify;" class="lead">
                                            <%= hall.description %>
                                        </p>

                                        <button type="button" class="btn btn-primary hall-02"
                                            style="background-color: #2a3353;" id=<%=hall._id %>>
                                            Read More
                                            <i class="fas fa-angle-double-right"></i>
                                        </button>

                                    </div>

                                </div>

                                <div class="content" class="content" style="width: 100%; position: relative;"
                                    id="display-<%= hall._id %>">

                                    <div style="padding: 5%;">

                                        <div style="display: flex;">
                                            <div style="width: 25%; border-radius: 0px; padding: 1%; "
                                                class="bg-image hover-zoom">
                                                <img src="https://images.unsplash.com/photo-1519167758481-83f550bb49b3?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1198&q=80"
                                                    alt="hall one one" width="100%" height="100%">
                                            </div>
                                            <div style="width: 25%; border-radius: 0px; padding: 1%; "
                                                class="bg-image hover-zoom">
                                                <img src="https://images.unsplash.com/photo-1519167758481-83f550bb49b3?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1198&q=80"
                                                    alt="hall one one" width="100%" height="100%">
                                            </div>
                                            <div style="width: 25%; border-radius: 0px; padding: 1%; "
                                                class="bg-image hover-zoom">
                                                <img src="https://images.unsplash.com/photo-1519167758481-83f550bb49b3?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1198&q=80"
                                                    alt="hall one one" width="100%" height="100%">
                                            </div>
                                            <div style="width: 25%; border-radius: 0px; padding: 1%; "
                                                class="bg-image hover-zoom">
                                                <img src="https://images.unsplash.com/photo-1519167758481-83f550bb49b3?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1198&q=80"
                                                    alt="hall one one" width="100%" height="100%">
                                            </div>

                                        </div>

                                        <div style="width: 100%; text-align: justify; padding: 1%; display: flex; ">

                                            <div style="width: 50%; padding: 1%;">
                                                <table class="table table-striped">
                                                    <tbody>
                                                        <tr>
                                                            <th scope="row">Hall Type: </th>
                                                            <td>
                                                                <%= hall.hallType %>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <th scope="row">Seating Plan: </th>
                                                            <td>
                                                                <%= hall.seatingPlan %>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <th scope="row">Capacity: </th>
                                                            <td>
                                                                <%= hall.capacity %> Guest
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <th scope="row">Available Dates: </th>
                                                            <td>xx.xx.xxxx</td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>

                                            <div style="width: 50%; padding: 1%;">
                                                <table class="table table-striped">
                                                    <tbody>
                                                        <tr>
                                                            <th scope="row">Lighting System: </th>
                                                            <td>
                                                                <%= hall.lightingSystem %>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <th scope="row">Sound System: </th>
                                                            <td>
                                                                <%= hall.soundSystem %>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <th scope="row">Buffet: </th>
                                                            <td>
                                                                <%= hall.buffet %>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <th scope="row">Price Range: </th>
                                                            <td>
                                                                <%= hall.priceFrom %> to <%= hall.priceTo %> LKR
                                                            </td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>

                                        </div>

                                    </div>

                                </div>

                            </div>

                        <% } %>

                    <% }) %>

            </div>

            <!-- Manage Halls -->
            <div class="tab-pane fade" id="ex3-pills-2" role="tabpanel" aria-labelledby="ex3-tab-2"
                style="display: flex;">

                <!-- Halls Table -->
                <div style="width: 50%; padding-right: 1%;">
                    <table class="table table-striped table-hover">
                        <thead class="table-dark">
                            <tr style="text-align: center;">
                                <th colspan="2">Hall</th>
                                <th colspan="2">Action</th>
                            </tr>
                        </thead>
                        <tbody style="text-align: center;">
                            <% halls.forEach(function(hall,index) { %>

                                <tr>
                                    <td>
                                        <img src="https://images.unsplash.com/photo-1524824267900-2fa9cbf7a506?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1170&q=80"
                                            alt="hall-a" height="50px" width="50px">
                                    </td>
                                    <td>
                                        <div class="d-flex align-items-center">
                                            <div class="ms-3">
                                                <p class="fw-bold mb-1">
                                                    <%= hall.name %>
                                                </p>
                                            </div>
                                        </div>
                                    </td>
                                    <td>
                                        <button type="button" class="btn btn-link btn-sm btn-rounded" id="update-button"
                                            value="<%= hall._id %>" onclick="change()">
                                            Update
                                        </button>
                                    </td>
                                    <td>
                                        <button type="button" class="btn btn-link btn-sm btn-rounded" id="delete-button"
                                            value="<%= hall._id %>">
                                            Delete
                                        </button>
                                    </td>
                                </tr>

                                <% }) %>
                        </tbody>
                    </table>
                </div>

                <!-- Halls Form -->
                <div style="width: 50%;">

                    

                    <form action="/manageHall" method="POST">

                        <table class="table table-bordered">
                            <tbody>

                                <!-- Hall Name -->
                                <tr>
                                    <th scope="row" style="width: 30%;">Hall Name: </th>
                                    <td>
                                        <div class="form-outline">
                                            <input type="text" id="hallName" class="form-control" name="hallName"
                                                style="border: 1px solid rgb(183, 183, 183);" required />
                                        </div>
                                    </td>
                                </tr>

                                <!-- Seatin Plan -->
                                <tr>
                                    <th scope="row">Seating Plan: </th>
                                    <td>
                                        <div class="form-outline">
                                            <select id="seatingPlan" class="form-control" name="seatingPlan"
                                                style="border: 1px solid rgb(183, 183, 183);" required>
                                                <option value="0">-- Select Style --</option>
                                                <option value="1">Theatre Style</option>
                                                <option value="2">Conference Style</option>
                                                <option value="3">U-Shape Style</option>
                                                <option value="4">Wedding Style</option>
                                                <option value="5">Group Style</option>
                                                <option value="6">Outdoor Style</option>
                                            </select>
                                        </div>
                                    </td>
                                </tr>

                                <!-- Hall Type -->
                                <tr>
                                    <th scope="row">Hall Type: </th>
                                    <td>
                                        <div class="form-outline">
                                            <input class="form-check-input me-2" type="checkbox" value="Wedding"
                                                name="hallType" id="typeWedding" />
                                            <label class="form-check-label" for="typeWedding">Wedding</label>

                                            <input class="form-check-input me-2" type="checkbox" value="Annivessary"
                                                name="hallType" id="typeAnnivessary" />
                                            <label class="form-check-label" for="typeAnnivessary">Annivessary</label>

                                            <input class="form-check-input me-2" type="checkbox" value="Birthday"
                                                name="hallType" id="typeBirthday" />
                                            <label class="form-check-label" for="typeBirthday">Birthday</label>

                                            <br>

                                            <input class="form-check-input me-2" type="checkbox" value="Conference"
                                                name="hallType" id="typeConference" />
                                            <label class="form-check-label" for="typeConference">Conference</label>

                                            <input class="form-check-input me-2" type="checkbox" value="Meeting"
                                                name="hallType" id="typeMeeting" />
                                            <label class="form-check-label" for="typeMeeting">Meeting</label>

                                            <input class="form-check-input me-2" type="checkbox" value="Lecture"
                                                name="hallType" id="typeLecture" />
                                            <label class="form-check-label" for="typeLecture">Lecture</label>
                                        </div>
                                    </td>
                                </tr>

                                <!-- Capacity -->
                                <tr>
                                    <th scope="row">Capacity: </th>
                                    <td>
                                        <div class="form-outline">
                                            <input type="number" id="hallCapacity" class="form-control"
                                                name="hallCapacity" style="border: 1px solid rgb(183, 183, 183);"
                                                min="0" required />
                                        </div>
                                    </td>
                                </tr>

                                <!-- Lighting System -->
                                <tr>
                                    <th scope="row">Lighting System: </th>
                                    <td>
                                        <div class="form-outline">
                                            <div class="form-check form-check-inline">
                                                <input class="form-check-input" type="radio" name="lightingSystem"
                                                    id="lightingAvailable" value="Availble" />
                                                <label class="form-check-label"
                                                    for="lightingAvailable">Available</label>
                                            </div>

                                            <div class="form-check form-check-inline">
                                                <input class="form-check-input" type="radio" name="lightingSystem"
                                                    id="lightingUnavailable" value="Unavailable" />
                                                <label class="form-check-label" for="lightingUnavailable">Not
                                                    Available</label>
                                            </div>
                                        </div>
                                    </td>
                                </tr>

                                <!-- Sound System-->
                                <tr>
                                    <th scope="row">Sound System: </th>
                                    <td>
                                        <div class="form-check form-check-inline">
                                            <input class="form-check-input" type="radio" name="soundingSystem"
                                                id="soundAvailable" value="Availble" />
                                            <label class="form-check-label" for="soundAvailable">Available</label>
                                        </div>

                                        <div class="form-check form-check-inline">
                                            <input class="form-check-input" type="radio" name="soundingSystem"
                                                id="soundUnavailable" value="Unavailable" />
                                            <label class="form-check-label" for="soundUnavailable">Not Available</label>
                                        </div>
                                    </td>
                                </tr>

                                <!-- Buffet -->
                                <tr>
                                    <th scope="row">Buffet: </th>
                                    <td>
                                        <div class="form-check form-check-inline">
                                            <input class="form-check-input" type="radio" name="buffet"
                                                id="buffetAvailable" value="Availble" />
                                            <label class="form-check-label" for="buffetAvailable">Available</label>
                                        </div>

                                        <div class="form-check form-check-inline">
                                            <input class="form-check-input" type="radio" name="buffet"
                                                id="buffetUnavailable" value="Unavailable" />
                                            <label class="form-check-label" for="buffetUnavailable">Not
                                                Available</label>
                                        </div>
                                    </td>
                                </tr>

                                <!-- Price Range -->
                                <tr>
                                    <th scope="row">Price Range: </th>
                                    <td>
                                        <div style="display: flex;">
                                            <div class="form-outline" style="padding-right: 1%;">
                                                <input type="number" id="priceFrom" class="form-control"
                                                    name="priceFrom" style="border: 1px solid rgb(183, 183, 183);"
                                                    min="0" required />
                                                <label class="form-label" for="priceFrom">From (LKR)</label>
                                            </div>

                                            <div class="form-outline">
                                                <input type="number" id="priceTo" class="form-control" name="priceTo"
                                                    style="border: 1px solid rgb(183, 183, 183);" min="0" required />
                                                <label class="form-label" for="priceTo">To (LKR)</label>
                                            </div>
                                        </div>
                                    </td>
                                </tr>

                                <!-- Description -->
                                <tr>
                                    <th scope="row">Description: </th>
                                    <td>
                                        <div class="form-outline" style="border: 1px solid rgb(183, 183, 183);">
                                            <textarea class="form-control" id="hallDescription" name="hallDescription"
                                                rows="4" required></textarea>
                                        </div>
                                    </td>
                                </tr>

                                <!-- Images -->
                                <tr>
                                    <th scope="row">Images: </th>
                                    <td>
                                        <div class="form-outline" style="border: 1px solid rgb(183, 183, 183);">
                                            <input class="form-control" type="file" id="hallImages" name="hallImages"
                                                multiple required />
                                        </div>
                                    </td>
                                </tr>

                                <!-- Submit Button -->
                                <tr>
                                    <td colspan="2">
                                        <button type="submit" class="btn btn-primary btn-block mb-4" id="form-submit-button"
                                            style="background-color: #303454;" value="add hall">Add Hall</button>
                                    </td>
                                </tr>


                            </tbody>

                        </table>
                    </form>

                </div>

            </div>

        </div>
        <!-- Pills content -->

    </div>

    <script>
        $("button").click(function () {
            var buttonId = this.id;
            this.classList.toggle("active");
            var content = document.getElementById("display-" + buttonId);
            if (content.style.maxHeight) {
                content.style.maxHeight = null;
            } else {
                content.style.maxHeight = content.scrollHeight + "px";
            }
        });

        function change() {
            var updateButton = document.getElementById("form-submit-button");
            updateButton.value = 'update hall';
            updateButton.innerHTML = 'Update Hall';
        }

        
    </script>

<%- include ("../../_partial/_footer.ejs") %>